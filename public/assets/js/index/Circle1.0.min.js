function CircleJs(n){var t={circles:document.getElementById("circleJsSvg"),bg:document.getElementById("circleJsBgSvg"),rectCircleNum:"05",gId:"circleJsSvg",lineCoor:{x:400,y:600},svgAttr:{w:640,h:640,css:"",scale:1},circleOpt:{circleJsSvg09:{animate:{speed:"20s",direction:"0-360"}},circleJsSvg08:{animate:{speed:"2s",direction:"360-0"}},circleJsSvg06:{animate:{speed:"5s",direction:"0-360"}},circleJsSvg05:{animate:{speed:"10s",direction:"360-0"}},circleJsSvg03:{animate:{speed:"5s",direction:"360-0"}},circleJsSvg02:{animate:{speed:"2s",direction:"0-360"}},circleJsSvg01:{animate:{speed:"2s",direction:"360-0",range:10}},circleJsSvgRect01:{rect:{w:24,h:24},animate:{speed:"3s",direction:"0-360"}},circleJsSvgRect02:{rect:{w:24,h:24},animate:{speed:"3s",direction:"0-360"}}},bgAttr:{w:"640",h:"1136",css:"",scale:1,filterId:"soptFilter",fill:"rgb(8,209,254)",svgColor:"rgb(0,0,0)",soptNum:50,soptRMax:5,soptRMin:.5,soptSpeedMax:10,soptRangeMax:20,circleGId:"soptGroup",lineGId:"lineGroup",lineCGId:"lineCircleGroup",lightGId:"bgLightGroup"}};for(let i in n)if(t[i]!==undefined&&t[i]!==null)if(i==="svgAttr"||i==="circleOpt"||i==="bgAttr")for(let r in n[i])if(n[i][r]instanceof Object)for(let u in n[i][r])if(u==="animate")for(let f in n[i][r][u])t[i][r][u][f]=n[i][r][u][f];else t[i][r][u]=n[i][r][u];else t[i][r]=n[i][r];else t[i]=n[i];for(let n in t)this[n]=t[n];this.initialC()}CircleJs.prototype.initialC=function(){var n=this;this.setAttr(n.circles,{width:n.svgAttr.w,height:n.svgAttr.h,style:n.svgAttr.css,transform:"scale("+n.svgAttr.scale+")"});this.setAttr(n.bg,{width:n.bgAttr.w,height:n.bgAttr.h,style:n.bgAttr.css,transform:"scale("+n.bgAttr.scale+")"});this.setCircles();this.circleOpt instanceof Object&&this.circleChange();this.bgFillandAnimate();this.bgSoptCreate();this.bgLineInitial(n.lineCoor.x,n.lineCoor.y)};CircleJs.prototype.setAttr=function(n,t){for(let i in t)n.setAttribute(i,t[i])};CircleJs.prototype.find=function(n,t,i){var e;if(n&&t){var r=n.children,f=[],u="nodeName";if(/\#/g.test(t)&&(u="id",t=t.replace("#","")),/\./g.test(t)&&(u="className",t=t.replace(".","")),r.length>0)for(let n in r)typeof r[n]=="object"&&(e=r[n][u].search(t),e===0&&(f.push(r[n]),i&&i(r[n])));return f}};CircleJs.prototype.random=function(n,t){return n+Math.random()*(t-n)};CircleJs.prototype.setCircles=function(){var n=this;this.find(this.circles,"#"+this.gId,function(t){n.find(t,"circle",function(t){n.setAttr(t,{cx:n.svgAttr.w/2,cy:n.svgAttr.w/2})})})};CircleJs.prototype.circleChange=function(){var r=this,f=this.circleOpt,i,u,o;for(let s in f){var t={},e=document.getElementById(s),n=f[s];(n.r||typeof n.r=="number")&&(t.r=n.r);(n.style||typeof n.style=="string")&&(t.style=n.style);n.border&&(i=n.border,i instanceof Array&&i.length>0&&(t["stroke-width"]=i[0],i.length>1&&(t.stroke=i[1])));n.fill&&(u=n.fill,typeof u=="string"?t.fill=u:u instanceof Object&&console.error("填充必须为颜色值，且类型应为字符串"));r.find(e,"circle",function(n){r.setAttr(n,t)});n.rect instanceof Object&&n.rect!==null&&(o=n.rect,r.rectChange(s,o));(n.animate||n.animate instanceof Object)&&r.animateChange(e,n.animate)}};CircleJs.prototype.rectChange=function(n,t){var i=this,r=document.getElementById(n),u=document.getElementById(i.gId+i.rectCircleNum);i.find(u,"circle",function(u){var f=parseInt(u.getAttribute("r"));if(n===i.gId+"Rect01"){let n=0;i.find(r,"rect",function(r){n===0&&i.setAttr(r,{width:t.w,height:t.h,x:i.svgAttr.w/2-f-t.w/2,y:i.svgAttr.h/2-t.h/2});n===1&&i.setAttr(r,{width:t.w,height:t.h,x:i.svgAttr.w/2+f-t.w/2,y:i.svgAttr.h/2-t.h/2});n++})}if(n===i.gId+"Rect02"){let n=0;i.find(r,"rect",function(r){n===0&&i.setAttr(r,{width:t.w,height:t.h,x:i.svgAttr.w/2-t.h/2,y:i.svgAttr.h/2-f-t.h/2});n===1&&i.setAttr(r,{width:t.w,height:t.h,x:i.svgAttr.w/2-t.h/2,y:i.svgAttr.h/2+f-t.h/2});n++})}})};CircleJs.prototype.animateChange=function(n,t,i){function f(n,u){var e=t.direction.split("-"),o=r.svgAttr.w,s=r.svgAttr.h,f=e[1]+" "+o/2+" "+s/2,h=e[0]+" "+o/2+" "+s/2;i&&(h=t.from,f=t.to);t.range&&(f=e[1]+" "+(o/2-t.range)+" "+(s/2-t.range));u?r.setAttr(n,{attributeName:"transform",begin:"0s",type:"rotate",repeatCount:"indefinite",dur:t.speed,from:h,to:f}):r.setAttr(n,{dur:t.speed,from:h,to:f})}var r=this,e,u;t.direction=t.direction||"0-360";e=this.find(n,"animateTransform",function(n){f(n)});e.length===0&&(u=document.createElementNS("http://www.w3.org/2000/svg","animateTransform"),f(u,!0),n.appendChild(u))};CircleJs.prototype.bgSoptCreate=function(){var n=this,t=n.bgAttr;for(let i=0;i<n.bgAttr.soptNum;i++){let i=n.random(t.soptRMin,t.soptRMax),r=n.random(i,n.bgAttr.w),u=n.random(i,n.bgAttr.h),f={speed:n.random(2,t.soptSpeedMax)+"s",from:"0 "+r+" "+u,to:"360 "+(r-n.random(0,n.bgAttr.soptRangeMax))+" "+(u-n.random(0,n.bgAttr.soptRangeMax))};n.bgChange("add",r,u,i,f)}};CircleJs.prototype.bgFillandAnimate=function(){var n=this,t=n.bgAttr.fill.replace("rgb(","").replace(")",""),i=[[0,360],[360,0]];n.find(n.bg,"#"+n.bgAttr.circleGId,function(r){n.find(r,"circle",function(r){n.setAttr(r,{fill:"rgba("+t+","+Math.random()+")"});var u=i[Math.round(Math.random())];let f=r.getAttribute("cx"),e=r.getAttribute("cy"),o={speed:n.random(2,n.bgAttr.soptSpeedMax)+"s",from:u[0]+" "+f+" "+e,to:u[1]+" "+(f-n.random(5,20))+" "+(e-n.random(5,20))};n.animateChange(r,o,!0)})})};CircleJs.prototype.bgChange=function(n,t,i,r,u){function e(n,t){let i=n.getAttribute(t);return parseInt(i)}var f=this,s=this.bg,o,h;n==="add"&&(o=document.createElementNS("http://www.w3.org/2000/svg","circle"),h=f.bgAttr.fill.replace("rgb(","").replace(")",""),f.setAttr(o,{cx:t,cy:i,r:r,fill:"rgba("+h+","+Math.random()+")"}),this.find(s,"#"+f.bgAttr.circleGId,function(n){n.appendChild(o);u&&f.animateChange(o,u,!0)}));n==="del"&&f.find(s,"#"+f.bgAttr.circleGId,function(n){f.find(n,"circle",function(u){if(u){var f=e(u,"cx")===t,o=e(u,"cy")===i,s=e(u,"r")===r;f&&o&&s&&n.removeChild(u)}})});n==="change"&&t instanceof Array&&i instanceof Array&&t.length>=3&&i.length>=3&&f.find(s,"#"+f.bgAttr.circleGId,function(n){f.find(n,"circle",function(n){var r=e(n,"cx")===t[0],u=e(n,"cy")===t[1],o=e(n,"r")===t[2];r&&u&&o&&f.setAttr(n,{cx:i[0],cy:i[1],r:i[2]})})})};CircleJs.prototype.bgLineCreate=function(n,t){var i=this,s=i.bgAttr.lineGId,h=i.bgAttr.lineCGId,f=document.getElementById(s),l=document.getElementById(h),u,e,r;for(let r=0;r<t.length;r++)u=document.createElementNS("http://www.w3.org/2000/svg","line"),i.setAttr(u,{x1:n[0],y1:n[1],x2:t[r][0],y2:t[r][1]}),f.appendChild(u);e=i.bgAttr.fill.replace("rgb(","").replace(")","");r=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttr(r,{cx:n[0],cy:n[1],r:i.random(3,8),fill:"rgba("+e+","+i.random(.5,1)+")"});f.appendChild(r);let o=[[0,360],[360,0]][Math.round(Math.random())],c={speed:i.random(2,i.bgAttr.soptSpeedMax)+"s",from:o[0]+" "+n[0]+" "+n[1],to:o[1]+" "+(n[0]-i.random(1,3))+" "+(n[1]-i.random(1,3))};i.animateChange(r,c,!0)};CircleJs.prototype.bgLineInitial=function(n,t){var a=this,s=[n+120,t],i=[n+140,t+150],u=[n+30,t+80],f=[n+105,t+160],h=[n,t+150],r=[n+128,t+190],e=[n+50,t+220],c=[n+100,t+220],l,o;this.bgLineCreate([n,t],[s,i,u]);this.bgLineCreate(s,[i,f,h,u]);this.bgLineCreate(u,[i,r,e]);this.bgLineCreate(h,[f,r,e]);this.bgLineCreate(i,[f,r]);this.bgLineCreate(r,[c]);this.bgLineCreate(c,[e]);l=document.getElementById(a.bgAttr.lineGId);o=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");this.setAttr(o,{path:"M5,200 A80,200 -45 0,1 50 5 A80,200 -45 0,1 5,160",dur:"15s",repeatCount:"indefinite"});l.appendChild(o)};CircleJs.prototype.pause=function(){this.circles.pauseAnimations()};CircleJs.prototype.unpause=function(){this.circles.unpauseAnimations()};